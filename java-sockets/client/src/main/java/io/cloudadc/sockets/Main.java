package io.cloudadc.sockets;


import java.io.IOException;
import java.io.OutputStream;
import java.math.BigInteger;
import java.net.Socket;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.boot.CommandLineRunner;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class Main implements CommandLineRunner {
	
	Logger logger = LoggerFactory.getLogger(getClass());
	

	public static void main(String[] args) {
		SpringApplication.run(Main.class, args);
	}

	@Override
	public void run(String... args) throws Exception {
		
		byte[] l1 = new BigInteger("2d31313136303030303031373730303234313639363830393730303030303030313032363530383030333032353031343930353032323030303730373930323338343132313132303230303430392030303030303030312020203030333638303032303230313131323030303032343136392020202020302020202020202020202020202020202030333130323530303030303033323039303631434e59e9aae9aa20202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202039393832393939302e3030204352202020202020203134313231313230323031323131323032302020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020",16).toByteArray();
		byte[] l2 = new BigInteger("2d31313136303030303033333430303234313639363830393730303030303030323032363530383030333032353031343930353032323030303730373930323338343132313132303230303030392030303030303030312020203030333638303032303230313131323030303032343136392020202020302020202020202020202020202020202030332020202020312020312031323131323032302031353a31393a343020202020393032323538203132313132303230202020202020202020202035303030302e3030204452202020202020202039393832393939302e30302043522020202020202020202020203130353520ceded5dbd7aad5cbd7aab3f620202020202020202020202020202020202020202020202020202020202020202020b9f1cca820202020202020202020202020202020c0edb2c6c9eab9ba20202020202020202020202020203030363732333634343638303637202020202020202020202020202020202020202020202020203730323530303031323130363032303120202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202035303232202030323530202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020",16).toByteArray();
		byte[] l3 = new BigInteger("2d31313136303030303033333430303234313639363830393730303030303030333032363530383030333032353031343930353032323030303730373930323338343132313132303230303030392030303030303030312020203030333638303032303230313131323030303032343136392020202020302020202020202020202020202020202030332020202020322020312031323131323032302031343a34333a353520202020383934353532203132313132303230202020202020202020202034303030302e3030204452202020202020202039393837393939302e30302043522020202020202020202020203130353520ceded5dbd7aad5cbd7aab3f620202020202020202020202020202020202020202020202020202020202020202020b9f1cca820202020202020202020202020202020c0edb2c6c8cfb9ba20202020202020202020202020203030363732333631313638303637202020202020202020202020202020202020202020202020203730323530303031323130363032303120202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202035303232202030323530202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020",16).toByteArray();
		byte[] l4 = new BigInteger("2d31313136303030303033333430303234313639363830393730303030303030343032363530383030333032353031343930353032323030303730373930323338343132313132303230303030392030303030303030312020203030333638303032303230313131323030303032343136392020202020302020202020202020202020202020202030332020202020332020312031323131323032302031343a32323a303920202020383930303039203132313132303230202020202020202020202036303030302e3030204452202020202020202039393931393939302e30302043522020202020202020202020203130353520ceded5dbd7aad5cbd7aab3f620202020202020202020202020202020202020202020202020202020202020202020b9f1cca820202020202020202020202020202020c0edb2c6c8cfb9ba20202020202020202020202020203030363732333538393638303637202020202020202020202020202020202020202020202020203730323530303031323130363032303120202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202035303232202030323530202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020",16).toByteArray();
		
		byte[] m1 = new BigInteger("2d31313136303030303033333430303234313639363830393730303030303030353032363530383030333032353031343930353032323030303730373930323338343132313132303230303030392030303030303030312020203030333638303032303230313131323030303032343136392020202020302020202020202020202020202020202030332020202020342020312031323131323032302031343a31323a343020202020383837383838203132313132303230202020202020202020202032303030302e3030204452202020202020202039393937393939302e30302043522020202020202020202020203130353520ceded5dbd7aad5cbd7aab3f620202020202020202020202020202020202020202020202020202020202020202020b9f1cca820202020202020202020202020202020c0edb2c6c8cfb9ba202020202020202020202020202030303637323335383436383036372020202020202020202020202020202020202020202020202037303235303030313231303630323031202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020353032322020303235302020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202d31313136303030303033333430303234313639363830393730303030303030363032363530383030333032353031343930353032323030303730373930323338343132313132303230303030392030303030303030312020203030333638303032303230313131323030303032343136392020202020302020202020202020202020202020202030332020202020352038302031323131323032302031333a35363a323020202020383834303539203132313132303230202020202020202020202020202031302e3030204452202020202020202039393939393939302e30302043522020202020202020312020393832323220bfa8c6e4cbfbcad6d0f8b7d1202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020cad6d0f8b7d120202020202020202020",16).toByteArray();
		byte[] m2 = new BigInteger("20202020303020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020353032322020303235302033302020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202d31313136303030303033333430303234313639363830393730303030303030373032363530383030333032353031343930353032323030303730373930323338343132313132303230303030392030303030303030312020203030333638303032303230313131323030303032343136392020202020302020202020202020202020202020202030332020202020362020312031323131323032302031333a35363a303520202020383834303036203132313132303230202020202020203130303030303030302e3030204352202020202020203130303030303030302e30302043522020202020202020202020203130313020ceded5dbcfd6bdf0b4e6bfee2020202020202020203939382f303030303036323330323032303232323530343020b9f1cca820202020202020202020202020202020cfd6bdf0b4e6bfee2020202020202020202020202020303020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020203530323220203032353020343920202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020",16).toByteArray();
		byte[] m3 = new BigInteger("20202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202d3131313630303030303032303030323431363936383039373030303030303038303236353038303033303235303134393035303232303030373037393032333834313231313230323030323039203030303030303031202020303033363830303230323031313132303030303234313639202020202030202020202020202020202020202020203033393939454e44202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020",16).toByteArray();
		byte[] m4 = new BigInteger("2020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020",16).toByteArray();
		
		if (args.length < 2) {
            System.err.println("USAGE: <IP> <PORT> <DATA>");
            System.exit(2);
        }
        String ip = args[0];
        int port = Integer.parseInt(args[1]);
        byte[] data = null;
        
        if(args.length == 3) {
        	data = new BigInteger(args[2], 16).toByteArray();
        }
        
        Socket socket = new Socket(ip, port);
        
        OutputStream output = socket.getOutputStream();
        
        if(data != null) {
        	pressToContinue();
        	write(output, data);
        } else {
        	for (int i = 0 ; i < 1000 ; i++) {
        		write(output, l1);
                write(output, l2);
                write(output, l3);
                write(output, l4);
                
                write(output, m1);
                write(output, m2);
                write(output, m3);
                write(output, m4);
        	}
        }
        
        pressToContinue();
        
        socket.close();
	}

	private void pressToContinue() throws IOException {

		System.out.println("\nPress Enter key to continue...");
		System.in.read();
	}

	private void write(OutputStream output, byte[] buf) throws IOException, InterruptedException {

		System.out.println("write bytes, length: " + buf.length);
		output.write(buf);
		Thread.sleep(1000 * 5);
	}
	
	

}
